<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    
    <title>Hello, world!</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-3">
                <div class = 'row align-text-center'>
                    <h5>Lap data</h5>
                </div>
                <div class = 'row align-text-center'>
                    <div id = 'lap_data' class = 'text-center'>

                    </div>
                </div>
            </div>
            <div class="col">
                <div class="row text-center">
                    <h5>Elapsed time</h3>
                </div>
                <div class="row align-text-center" >
                    <div id ='Elapsed_time' class="text-center">
                        <label id="minutes">00</label>
                        <label id="colon">:</label>
                        <label id="seconds">00</label>
                    </div>
                </div>
                <div class="row">
                    <div class='col text-center'>
                        <button class="btn btn-primary" onClick='start()'>start</button>
                    </div>
                    <div class='col text-center'>
                        <button class="btn btn-danger" onclick='stop()'>stop</button>
                    </div>
                </div>
                <div class="row">
                    <div class='col text-center'>
                        <button class="btn btn-primary" onclick = 'reset()'>reset</button>
                    </div>
                    <div class='col text-center'>
                        <button class="btn btn-primary" onclick='lap()'>lap </button>
                    </div>
                </div>

            </div>
        </div>


    </div>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>
    -->
</body>
<style>

    .row{
        padding: 10px;
    }
</style>

<script>
    // const display1 = document.createElement('div');
    // document.body.appendChild(display1)

    var minutesLabel = document.getElementById("minutes");
    var secondsLabel = document.getElementById("seconds");
    var totalSeconds = 0;

    let stopCount ;

    const start = () =>{
        stopCount = setInterval(setTime, 1000);
    }

    const stop = () =>{
        clearInterval(stopCount);
    }
    let lapArray = []
    const reset = () =>{
        clearInterval(stopCount);
        minutesLabel.innerHTML = '00'
        secondsLabel.innerHTML = '00'
        lapArray = []
        let lapData = document.getElementById("lap_data")
        lapData.innerHTML = ''
        totalSeconds = 0
    }

    
    const lap = ()=>{
        let minutesLabelCurrent = document.getElementById("minutes");
        var secondsLabelCurrent = document.getElementById("seconds");
        lapArray.push(`${minutesLabelCurrent.innerHTML} : ${secondsLabelCurrent.innerHTML}`)
        console.log(lapArray)
        let lapData = document.getElementById("lap_data")
        const lapDiv = document.createElement("div")
        lapDiv.innerHTML = lapArray[lapArray.length-1]
        lapData.appendChild(lapDiv)

    }



    function setTime() {
        ++totalSeconds;
        secondsLabel.innerHTML = pad(totalSeconds % 60);
        minutesLabel.innerHTML = pad(parseInt(totalSeconds / 60));
    }

    function pad(val) {
        var valString = val + "";
        if (valString.length < 2) {
            return "0" + valString;
        }
        else {
            return valString;
        }
    }
</script>
</html>